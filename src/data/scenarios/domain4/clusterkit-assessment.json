{
  "id": "domain4-clusterkit",
  "title": "Multifaceted Node Assessment with ClusterKit",
  "domain": "domain4",
  "difficulty": "intermediate",
  "description": "Learn to use ClusterKit for comprehensive node health assessment, covering GPU status, network connectivity, storage validation, firmware checks, and driver verification. Essential for cluster deployment and validation.",
  "learningObjectives": [
    "Run ClusterKit to perform multifaceted node assessment",
    "Interpret ClusterKit health check results",
    "Identify issues reported by ClusterKit",
    "Understand component-level health validation",
    "Use verbose mode for detailed diagnostics"
  ],
  "faults": [],
  "initialClusterState": {},
  "steps": [
    {
      "id": "step1",
      "title": "Run Basic ClusterKit Assessment",
      "description": "Execute ClusterKit to get a comprehensive health report for the current node. ClusterKit performs checks on GPU, network, storage, firmware, and drivers, providing an overall health status.",
      "objectives": [
        "Run clusterkit command",
        "Review overall health status",
        "Identify all check categories"
      ],
      "expectedCommands": [
        "clusterkit"
      ],
      "validationRules": [
        {
          "type": "command-executed",
          "description": "Must run ClusterKit assessment",
          "expectedCommands": ["clusterkit"]
        }
      ],
      "hints": [
        "ClusterKit performs checks on GPU, network, storage, firmware, and drivers",
        "Look for the overall health status at the top of the report",
        "Each check category will show PASS, WARNING, or FAIL status",
        "Green checkmark (✓) indicates passing checks"
      ],
      "estimatedDuration": 3,
      "documentationLinks": [
        {
          "title": "ClusterKit Documentation",
          "url": "https://docs.nvidia.com/clusterkit/"
        }
      ]
    },
    {
      "id": "step2",
      "title": "Run Verbose Assessment",
      "description": "Use verbose mode to get detailed information about each component check. This provides component-specific details like GPU model names, HCA types, driver versions, and more.",
      "objectives": [
        "Run clusterkit with verbose flag",
        "Review detailed check results",
        "Understand component-specific details"
      ],
      "expectedCommands": [
        "clusterkit --verbose",
        "clusterkit -v"
      ],
      "validationRules": [
        {
          "type": "command-executed",
          "description": "Must run verbose assessment",
          "expectedCommands": ["clusterkit --verbose", "clusterkit -v"]
        }
      ],
      "hints": [
        "Verbose mode shows detailed information for each check",
        "Look for GPU-specific details like model names",
        "Network details include HCA types and states",
        "Driver information includes versions and compatibility",
        "Use -v as a shorthand for --verbose"
      ],
      "estimatedDuration": 5,
      "documentationLinks": [
        {
          "title": "ClusterKit Verbose Mode",
          "url": "https://docs.nvidia.com/clusterkit/verbose"
        }
      ]
    },
    {
      "id": "step3",
      "title": "Target Specific Node",
      "description": "Run ClusterKit assessment on different nodes in the cluster to compare health across the fabric. This helps identify node-specific issues and hardware variations.",
      "objectives": [
        "Use --node flag to target specific node",
        "Compare health across nodes",
        "Identify node-specific issues"
      ],
      "expectedCommands": [
        "clusterkit --node dgx-01",
        "clusterkit --node dgx-02",
        "clusterkit --node dgx-00 --verbose"
      ],
      "validationRules": [
        {
          "type": "command-executed",
          "description": "Must assess multiple nodes",
          "expectedCommands": ["clusterkit --node dgx-01", "clusterkit --node dgx-02"]
        }
      ],
      "hints": [
        "Different nodes may have different health statuses",
        "Use --node flag followed by node hostname or ID",
        "Compare results across nodes to identify problematic hardware",
        "Consistent failures across nodes suggest systemic issues",
        "Node-specific failures indicate hardware problems"
      ],
      "estimatedDuration": 7,
      "documentationLinks": []
    },
    {
      "id": "step4",
      "title": "Interpret Failure Scenarios",
      "description": "Review ClusterKit output to identify and understand component failures. Learn to correlate failures with specific components and use additional tools for diagnosis.",
      "objectives": [
        "Identify FAIL status in ClusterKit output",
        "Understand root causes of failures",
        "Correlate failures with specific components",
        "Use cross-validation with other tools"
      ],
      "expectedCommands": [
        "clusterkit",
        "nvidia-smi",
        "ibstat"
      ],
      "validationRules": [
        {
          "type": "command-executed",
          "description": "Must run ClusterKit and verify with other tools",
          "expectedCommands": ["clusterkit", "nvidia-smi"]
        }
      ],
      "hints": [
        "GPU failures often show XID errors or temperature issues",
        "Network failures indicate HCA connectivity problems",
        "Firmware warnings suggest version mismatches",
        "Use nvidia-smi to cross-verify GPU issues",
        "Red X (✗) indicates failed checks"
      ],
      "estimatedDuration": 10,
      "documentationLinks": [
        {
          "title": "GPU XID Errors",
          "url": "https://docs.nvidia.com/xid-errors/"
        }
      ]
    },
    {
      "id": "step5",
      "title": "Integration with Other Tools",
      "description": "Use ClusterKit alongside nvidia-smi, ibstat, and other diagnostic tools for comprehensive validation. Build a complete picture of cluster health.",
      "objectives": [
        "Combine ClusterKit with nvidia-smi",
        "Cross-reference results with ibstat",
        "Build comprehensive health picture",
        "Understand tool complementarity"
      ],
      "expectedCommands": [
        "clusterkit",
        "nvidia-smi",
        "ibstat",
        "fw-check all"
      ],
      "validationRules": [
        {
          "type": "command-executed",
          "description": "Must use multiple diagnostic tools",
          "expectedCommands": ["clusterkit", "nvidia-smi", "ibstat"],
          "requireAllCommands": true
        }
      ],
      "hints": [
        "ClusterKit provides high-level overview",
        "nvidia-smi gives GPU-specific details",
        "ibstat shows InfiniBand network status",
        "Use all three tools for complete picture",
        "fw-check verifies firmware versions across components"
      ],
      "estimatedDuration": 10,
      "documentationLinks": [
        {
          "title": "NVIDIA System Management",
          "url": "https://docs.nvidia.com/datacenter/tesla/pdf/nvidia-system-management-interface-guide.pdf"
        }
      ]
    }
  ]
}
